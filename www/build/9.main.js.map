{"version":3,"sources":["../../src/pages/carrier-trip-ongoing/carrier-trip-ongoing.module.ts","../../src/pages/carrier-trip-ongoing/carrier-trip-ongoing.ts"],"names":[],"mappings":"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","file":"9.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CarrierTripOngoing } from './carrier-trip-ongoing';\n\n@NgModule({\n  declarations: [\n    CarrierTripOngoing,\n  ],\n  imports: [\n    IonicPageModule.forChild(CarrierTripOngoing),\n  ],\n  exports: [\n    CarrierTripOngoing\n  ]\n})\nexport class CarrierTripOngoingModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/carrier-trip-ongoing/carrier-trip-ongoing.module.ts","import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController, Loading  } from 'ionic-angular';\nimport { CourierService } from '../../providers/courier-service';\nimport { Storage } from '../../app/storage';\n\nenum TripStatus {\n    committed = 0,\n    selectStation = 1,\n    prepareToStart = 2,\n    started = 3\n}\n/**\n * Generated class for the CarrierTripOngoing page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-carrier-trip-ongoing',\n  templateUrl: 'carrier-trip-ongoing.html',\n  providers: [CourierService]\n})\nexport class CarrierTripOngoing implements OnInit {\n  loading: Loading;\n  storages : Storage[];\n  tripStatus : TripStatus = TripStatus.committed;\n  color:string = \"null\";\n  constructor(public navCtrl: NavController, public navParams: NavParams, private courierService : CourierService, private alertCtrl: AlertController, private loadingCtrl: LoadingController) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CarrierTripOngoing');\n  }\n\n  ngOnInit():void {\n    this.getStorages();\n  }\n\n  getStorages(): void {\n    this.showLoading().then(() => {\n      this.courierService.offerTrip().subscribe(storages => {\n        this.storages = storages;\n        console.log('storage: ' + storages);\n        // this.loading.dismiss();\n      },\n        error => {\n          this.showError(error);\n        });\n    });\n\n  }\n\n  showLoading() : Promise<any>{\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...',\n      dismissOnPageChange: true\n    });\n    return this.loading.present();\n  }\n\n  showError(text) {\n    this.loading.dismiss();\n\n    let alert = this.alertCtrl.create({\n      title: 'Fail',\n      subTitle: text,\n      buttons: ['OK']\n    });\n    alert.present(prompt);\n  }\n\n  public confirmSelections() {\n    this.tripStatus = TripStatus.prepareToStart;\n    this.color = \"primary\";\n  }\n\n  public cancelSelections() {\n    this.tripStatus = TripStatus.committed;\n    this.color = \"null\";\n  }\n\n  public selectStations() {\n    this.tripStatus = TripStatus.selectStation;\n    this.color = \"light\";\n  }\n\n  public reselectStations() {\n    this.tripStatus = TripStatus.selectStation;\n    this.color = \"light\";\n  }\n\n  public selectPackages() {\n    this.navCtrl.push(\"CarrierTripPackageSelect\");\n  }\n\n  public startTrip() {\n    this.tripStatus = TripStatus.started;\n    this.color = \"danger\";\n  }\n\n  public finishTrip() {\n    this.navCtrl.push(\"CarrierTripFinish\");\n    this.color = \"secondary\";\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/carrier-trip-ongoing/carrier-trip-ongoing.ts"],"sourceRoot":""}